<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="format-detection" content="email=no"/>
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="./style.css">
</head>
<body>
<nav class="navbar">
    <div><span class="iconfont">&#xe600;</span></div>
    <div class="vip">VIP中心</div>
    <div><span class="iconfont">&#xe640;</span></div>
</nav>
<div class="header">
    <div class="left">
        <div>
            <h4>高级版</h4>
            <p>适合独立摄影师</p>
        </div>
    </div>
    <div class="right">
        <div>
            <h4>定制版</h4>
            <p>适合小型工作室</p>
        </div>
    </div>
</div>
<div class="body">
    <div class="title">
        <span class="large">高级版</span>
        （适合<span class="small">独立摄影师</span>）
    </div>
    <div class="itemList">
        <ul class="top">
            <li class="gaoji">
                <a id="title1" class="iconfont">&#xe623;</a>
                <p>标题1</p>
            </li>
            <li>
                <a id="title2" class="iconfont">&#xe601;</a>
                <p>标题2</p>
            </li>
            <li class="gaoji">
                <a id="title3" class="iconfont">&#xe627;</a>
                <p>标题3</p>
            </li>
            <li class="gaoji">
                <a id="title4" class="iconfont">&#xe601;</a>
                <p>标题4</p>
            </li>
            <li>
                <a id="title5" class="iconfont">&#xe638;</a>
                <p>标题5</p>
            </li>
        </ul>
        <ul class="bottom">
            <li>
                <a id="title6" class="iconfont">&#xe606;</a>
                <p>标题6</p>
            </li>
            <li>
                <a id="title7" class="iconfont">&#xe69e;</a>
                <p>标题7</p>
            </li>
            <li class="gaoji">
                <a id="title8" class="iconfont">&#xe638;</a>
                <p>标题8</p>
            </li>
            <li>
                <a id="title9" class="iconfont">&#xe601;</a>
                <p>标题9</p>
            </li>
            <li class="gaoji">
                <a id="title10" class="iconfont">&#xe627;</a>
                <p>标题10</p>
            </li>
        </ul>
    </div>
</div>

<div class="alertBox">
    <div class="bg"></div>
    <div class="alert">
        <div id="alertHeader" class="alertHeader" style="font-size: 15px;font-weight: bold;margin-bottom: 20px"></div>
        <div id="alertContent" class="alertContent" style="font-size: 13px;color: #7f7f7f;line-height: 20px"></div>
        <a id="close" class="iconfont">&#xe687;</a>
    </div>
</div>

<script>
    let flag = 'gaoji'; //定义一个全局变量，用来保存当前是高级还是定制
    let left = document.getElementsByClassName("left")[0];
    let right = document.getElementsByClassName("right")[0];
    let liList = document.getElementsByTagName('li');
    left.addEventListener('touchstart', function () {
        flag = 'gaoji';
        right.style.color = 'black';
        right.style.backgroundColor = '#f5f5f5';
        right.style.border = '1px solid #e9e9e9';
        left.style.color = 'rgba(233, 10, 0, 0.69)';
        left.style.backgroundColor = 'rgba(255, 79, 0, 0.04)';
        left.style.border = '1px solid rgba(249, 0, 3, 0.42)';
        for (let li of liList) {
            if (li.className === 'gaoji') {
                li.style.opacity = '1';
            } else {
                li.style.opacity = '0.4';
            }
        }
    });
    right.addEventListener('touchstart', function () {
        flag = 'dingzhi';
        left.style.color = 'black';
        left.style.backgroundColor = '#f5f5f5';
        left.style.border = '1px solid #e9e9e9';
        right.style.color = 'rgba(233, 10, 0, 0.69)';
        right.style.backgroundColor = 'rgba(255, 79, 0, 0.04)';
        right.style.border = '1px solid rgba(249, 0, 3, 0.42)';
        for (let li of liList) {
            li.style.opacity = '1';
        }
    });

    let close = document.getElementById('close');
    let alertBox = document.querySelector('.alertBox');
    close.addEventListener('touchstart', function () {
        alertBox.style.display = "none";
    });

    let divUl = document.querySelector('.body .itemList');
    divUl.addEventListener('touchstart', function (event) {
        let node = event.target;
        if (node.className === 'iconfont') {
            let xmlhttp;
            if (window.XMLHttpRequest) {
                // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
                xmlhttp = new XMLHttpRequest();
            }
            else {
                // IE6, IE5 浏览器执行代码
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
            switch (flag) {
                case 'gaoji':
                    if (node.id === 'title1' || node.id === 'title3' || node.id === 'title4'
                        || node.id === 'title8' || node.id === 'title10')
                        xmlhttp.onreadystatechange = function () {
                            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                                document.getElementById('alertHeader').innerHTML = JSON.parse(xmlhttp.responseText)[flag][node.id].head;
                                document.getElementById('alertContent').innerHTML = JSON.parse(xmlhttp.responseText)[flag][node.id].body;
                                alertBox.style.display = "block";
                            }
                        };
                    xmlhttp.open("GET", "./static/data.json", true);
                    xmlhttp.send();
                    break;
                    break;
                case 'dingzhi':
                    xmlhttp.onreadystatechange = function () {
                        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                            document.getElementById('alertHeader').innerHTML = JSON.parse(xmlhttp.responseText)[flag][node.id].head;
                            document.getElementById('alertContent').innerHTML = JSON.parse(xmlhttp.responseText)[flag][node.id].body;
                            alertBox.style.display = "block";
                        }
                    };
                    xmlhttp.open("GET", "./static/data.json", true);
                    xmlhttp.send();
                    break;
            }
        }
    });
</script>
</body>
</html>